{% extends "app/base.html" %}
{% load static %}
{% load nav_tags %}

{% block title %}
  RacketRank - Perfil
{% endblock title %}

{% block content %}
  <div class="mx-auto max-w-7xl py-12 sm:px-6 lg:px-8">
    <div class="mx-auto max-w-4xl">
      <div class="overflow-hidden bg-white shadow sm:rounded-lg">
        <div class="px-4 py-6 sm:px-6">
          {% if messages %}
            {% for message in messages %}
              <div class="mb-4 p-4 {% if message.tags == 'success' %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %} rounded">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}

          <form method="post">
            {% csrf_token %}
            <div class="space-y-12">
              <div class="border-b border-gray-900/10 pb-12">
                <h2 class="text-base/7 font-semibold text-gray-900">Perfil</h2>

                <div class="mt-5 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
                  <div class="sm:col-span-4">
                    <label for="{{ form.username.id_for_label }}"
                           class="block text-sm/6 font-medium text-gray-900">{{ form.username.label }}</label>
                    <div class="mt-2">
                      <input type="text"
                             name="username"
                             value="{{ request.user.username }}"
                             id="id_username"
                             class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm/6">
                      {% if form.username.errors %}<p class="text-red-500 text-sm mt-1">{{ form.username.errors.0 }}</p>{% endif %}
                    </div>
                  </div>

                  <div class="sm:col-span-3">
                    <label for="{{ form.new_password.id_for_label }}"
                           class="block text-sm/6 font-medium text-gray-900">Nueva Contraseña</label>
                    <div class="mt-2">
                      <input type="password"
                             name="new_password"
                             id="id_new_password"
                             class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm/6">
                      {% if form.new_password.errors %}<p class="text-red-500 text-sm mt-1">{{ form.new_password.errors.0 }}</p>{% endif %}
                    </div>
                  </div>

                  <div class="sm:col-span-3">
                    <label for="{{ form.confirm_password.id_for_label }}"
                           class="block text-sm/6 font-medium text-gray-900">Confirmar Contraseña</label>
                    <div class="mt-2">
                      <input type="password"
                             name="confirm_password"
                             id="id_confirm_password"
                             class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm/6">
                      {% if form.confirm_password.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.confirm_password.errors.0 }}</p>
                      {% endif %}
                    </div>
                  </div>

                  <div class="sm:col-span-3">
                    <label for="first-name" class="block text-sm/6 font-medium text-gray-900">First name</label>
                    <div class="mt-2">
                      <input type="text"
                             disabled
                             name="first-name"
                             value="{{ request.user.first_name }}"
                             id="first-name"
                             class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm/6">
                    </div>
                  </div>

                  <div class="sm:col-span-3">
                    <label for="last-name" class="block text-sm/6 font-medium text-gray-900">Last name</label>
                    <div class="mt-2">
                      <input type="text"
                             disabled
                             name="last-name"
                             value="{{ request.user.last_name }}"
                             id="last-name"
                             class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm/6">
                    </div>
                  </div>

                  <div class="sm:col-span-4">
                    <label for="email" class="block text-sm/6 font-medium text-gray-900">Email address</label>
                    <div class="mt-2">
                      <input id="email"
                              disabled
                             name="email"
                             value="{{ request.user.email }}"
                             type="email"
                             class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm/6">
                    </div>
                  </div>

                  <div class="sm:col-span-4">
                    <label for="{{ form.telefono.id_for_label }}"
                           class="block text-sm/6 font-medium text-gray-900">Teléfono</label>
                    <div class="mt-2">
                      <input id="id_telefono"
                             name="telefono"
                             type="tel"
                             value="{{ request.user.telefono }}"
                             class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm/6">
                      {% if form.telefono.errors %}<p class="text-red-500 text-sm mt-1">{{ form.telefono.errors.0 }}</p>{% endif %}
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-6 flex items-center justify-end gap-x-6">
              <button type="button" class="text-sm/6 font-semibold text-gray-900">Cancel</button>
              <button type="submit"
                      class="rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
                Save
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
{% endblock content %}
